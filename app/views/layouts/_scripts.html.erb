<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
$(document).on('click',function(){
  $('.collapse').collapse('hide');
});

$(document).ready(function() {
  // navbar hiding
  if (window.innerWidth > 768) {
    var navbarHeight = document.getElementById("navbar").offsetHeight;
    var prevScrollpos = window.pageYOffset;
    window.onscroll = function() {
      var currentScrollPos = window.pageYOffset;
      if (prevScrollpos > currentScrollPos || currentScrollPos <= navbarHeight) {
        document.getElementById("navbar").classList.remove("hidden");
      } else {
        document.getElementById("navbar").classList.add("hidden");
      }
      prevScrollpos = currentScrollPos;
    }
  }

    // Get the element that you want to observe
  const contactSection = document.querySelector('.contact-desc');

  // Create a new IntersectionObserver object
  const observer = new IntersectionObserver((entries) => {
    // Loop through the entries that intersect with the viewport
    entries.forEach((entry) => {
      // If the observed element is intersecting with the viewport
      if (entry.isIntersecting) {
        // Add a CSS class to show the element
        contactSection.classList.add('show');
      }
    });
  }, {
    // Set the root element to be the viewport
    root: null,
    // Set the threshold to 0 (meaning the observed element is considered intersecting when it enters the viewport)
    threshold: 0.5,
  });
  
  $(window).on('scroll', function() {
  var element = $('.contact-desc');
  var position = element.offset().top;
  var scrollTop = $(window).scrollTop();
  var windowHeight = $(window).height();
  if (scrollTop + windowHeight > position) {
    element.fadeIn(2000);
  }
});

  // Start observing the element
  observer.observe(contactSection);

  // get the current path
  var path = window.location.pathname;

  // check if the path includes 'aerostructures'
  if (path.includes('/team/aerostructures')) {
    // if it does, show the aerostructures collapse section
    $('#aerostructures').collapse('show');

    // scroll to the top of the aerostructures collapse section
    $('html, body').scrollTop($('#aerostructures').offset().top);
  }

  // check if the path includes 'avionics'
  if (path.includes('/team/avionics')) {
    // if it does, show the avionics collapse section
    $('#avionics').collapse('show');

    // scroll to the top of the avionics collapse section
    $('html, body').scrollTop($('#avionics').offset().top);
  }

  // check if the path includes 'resources'
  if (path.includes('/team/resources')) {
    // if it does, show the resources collapse section
    $('#resources').collapse('show');

    // scroll to the top of the resources collapse section
    $('html, body').scrollTop($('#resources').offset().top);
  }

  // check if the path includes 'webdevelopers'
  if (path.includes('/team/webdevelopers')) {
    // if it does, show the webdevelopers collapse section
    $('#webdevelopers').collapse('show');

    // scroll to the top of the webdevelopers collapse section
    $('html, body').scrollTop($('#webdevelopers').offset().top);
  }

  // add a click event listener to all team links
  $('.link-button').click(function(event) {
    // prevent the default behavior of the link
    event.preventDefault();

    // get the target of the link
    var target = $(this).attr('data-target');

    // show the target collapse section
    $(target).collapse('show');

    // scroll to the top of the target collapse section
    $('html, body').scrollTop($(target).offset().top);
  });
});
</script> 